<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple E‚Äëcommerce Demo</title>
  <style>
    /* ----- Reset & basics ----- */
    *{box-sizing:border-box}body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin:0; background:#f5f7fb; color:#203040}
    a{color:inherit}
    img{max-width:100%;display:block}

    /* ----- Layout ----- */
    header{background:linear-gradient(90deg,#355c7d,#6c5b7b);color:#fff;padding:18px}
    .container{max-width:1100px;margin:24px auto;padding:0 16px}
    .top{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700}
    .brand .logo{width:44px;height:44px;border-radius:8px;background:#fff3;display:flex;align-items:center;justify-content:center}

    /* ----- Controls ----- */
    .controls{display:flex;gap:10px;align-items:center}
    .search{padding:8px 12px;border-radius:10px;border:1px solid #dbe6f0;background:#fff}
    .select, .btn{padding:8px 12px;border-radius:10px;border:1px solid #dbe6f0;background:#fff}
    .btn{cursor:pointer}

    /* ----- Main grid ----- */
    .main{display:grid;grid-template-columns:1fr 320px;gap:20px;margin-top:18px}

    /* ----- Products ----- */
    .product-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
    .card{background:#fff;border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(16,30,60,0.06);display:flex;flex-direction:column}
    .card .thumb{height:160px;border-radius:10px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#f1f7fb}
    .card h4{margin:10px 0 6px;font-size:16px}
    .meta{display:flex;justify-content:space-between;align-items:center}
    .price{font-weight:700}
    .small{font-size:13px;color:#64748b}
    .add{margin-top:10px;padding:8px;border-radius:8px;border:none;background:#2b8aed;color:#fff;cursor:pointer}

    /* ----- Cart ----- */
    .cart{background:#fff;border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(16,30,60,0.06)}
    .cart h3{margin:0 0 12px}
    .cart-list{display:flex;flex-direction:column;gap:10px;max-height:420px;overflow:auto}
    .cart-item{display:flex;gap:12px;align-items:center}
    .qty{display:flex;align-items:center;gap:6px}
    .qty button{width:28px;height:28px;border-radius:6px;border:1px solid #e6eef8;background:#fff;cursor:pointer}
    .checkout{margin-top:12px;padding:10px;border-radius:8px;border:none;background:#1f7a3a;color:#fff;width:100%;cursor:pointer}

    /* ----- Modal ----- */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(8,12,20,0.45)}
    .modal.show{display:flex}
    .modal-card{width:90%;max-width:760px;background:#fff;border-radius:12px;padding:16px}
    .modal-head{display:flex;justify-content:space-between;align-items:center}

    /* ----- Responsive ----- */
    @media (max-width:900px){
      .main{grid-template-columns:1fr}
      .cart{order:2}
    }
  </style>
</head>
<body>
  <header>
    <div class="container top">
      <div class="brand">
        <div class="logo">üõçÔ∏è</div>
        <div>
          <div style="font-size:18px">ShopEasy</div>
          <div style="font-size:12px;opacity:.85">A simple e‚Äëcommerce demo</div>
        </div>
      </div>
      <div class="controls">
        <input id="search" class="search" placeholder="Search products..." />
        <select id="category" class="select">
          <option value="all">All categories</option>
        </select>
        <button id="openCart" class="btn">Cart (<span id="cartCount">0</span>)</button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="main">
      <section>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 style="margin:0">Products</h2>
          <div class="small" id="resultCount">Showing 0 products</div>
        </div>
        <div id="productGrid" class="product-grid" style="margin-top:12px"></div>
      </section>

      <aside class="cart">
        <h3>Cart</h3>
        <div id="cartList" class="cart-list">
          <div class="small">Cart is empty ‚Äî add some items.</div>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
          <div>
            <div class="small">Total</div>
            <div id="cartTotal">‚Çπ0.00</div>
          </div>
          <button id="checkout" class="checkout">Checkout</button>
        </div>
      </aside>
    </div>
  </main>

  <!-- Product detail modal -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <div>
          <h3 id="modalTitle" style="margin:0">Product</h3>
          <div class="small" id="modalCategory"></div>
        </div>
        <button id="closeModal" class="btn">Close</button>
      </div>
      <div style="display:flex;gap:12px;margin-top:12px">
        <div style="flex:1">
          <div id="modalImage" style="height:260px;border-radius:10px;background:#f1f7fb;display:flex;align-items:center;justify-content:center">Image</div>
        </div>
        <div style="width:320px">
          <div id="modalDesc" class="small">Description</div>
          <div style="margin-top:12px"><strong id="modalPrice">‚Çπ0</strong></div>
          <div style="margin-top:12px">
            <button id="modalAdd" class="add">Add to cart</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ------------------ Sample products ------------------
    const products = [
      {id:1,title:'Classic Cotton Shirt',price:799,category:'Clothing',img:'https://picsum.photos/id/1005/600/400',desc:'Comfortable cotton shirt - multiple sizes'},
      {id:2,title:'Bluetooth Headphones',price:1499,category:'Electronics',img:'https://picsum.photos/id/180/600/400',desc:'Wireless over-ear headphones with long battery life'},
      {id:3,title:'Ceramic Coffee Mug',price:299,category:'Home',img:'https://picsum.photos/id/1060/600/400',desc:'Hand-painted mug, 350ml'},
      {id:4,title:'Running Sneakers',price:1999,category:'Footwear',img:'https://picsum.photos/id/1011/600/400',desc:'Lightweight running shoes with cushioned sole'},
      {id:5,title:'Denim Jacket',price:2199,category:'Clothing',img:'https://picsum.photos/id/1025/600/400',desc:'Stylish denim jacket - unisex'},
      {id:6,title:'Smart Watch',price:3499,category:'Electronics',img:'https://picsum.photos/id/1050/600/400',desc:'Fitness tracking, notifications, waterproof'},
      {id:7,title:'Floor Lamp',price:2299,category:'Home',img:'https://picsum.photos/id/1018/600/400',desc:'Modern lamp with warm LED light'},
      {id:8,title:'Leather Wallet',price:699,category:'Accessories',img:'https://picsum.photos/id/1027/600/400',desc:'Bi-fold genuine leather wallet'}
    ];

    // ------------------ State & helpers ------------------
    let state = {
      cart: JSON.parse(localStorage.getItem('cart')||'{}'),
      filter: {q:'',category:'all'}
    };

    const el = id => document.getElementById(id);

    // ------------------ Rendering ------------------
    function renderProducts(){
      const grid = el('productGrid'); grid.innerHTML='';
      const q = state.filter.q.toLowerCase();
      const category = state.filter.category;
      const filtered = products.filter(p=>
        (category==='all' || p.category===category) && (p.title.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q))
      );
      el('resultCount').textContent = `Showing ${filtered.length} product${filtered.length!==1?'s':''}`;

      filtered.forEach(p=>{
        const card = document.createElement('article'); card.className='card';
        card.innerHTML = `
          <div class="thumb"><img src="${p.img}" alt="${p.title}"></div>
          <h4>${p.title}</h4>
          <div class="small">${p.category}</div>
          <div class="meta">
            <div class="price">‚Çπ${p.price.toFixed(2)}</div>
            <button class="small btn" data-id="${p.id}" data-action="view">View</button>
          </div>
          <button class="add" data-id="${p.id}" data-action="add">Add to cart</button>
        `;
        grid.appendChild(card);
      });
    }

    function renderCategories(){
      const cat = Array.from(new Set(products.map(p=>p.category)));
      const sel = el('category');
      cat.forEach(c=>{
        const o = document.createElement('option'); o.value=c; o.textContent=c; sel.appendChild(o);
      });
    }

    function saveCart(){
      localStorage.setItem('cart', JSON.stringify(state.cart));
      updateCartUI();
    }

    function updateCartUI(){
      const list = el('cartList'); list.innerHTML='';
      const ids = Object.keys(state.cart);
      if(ids.length===0){ list.innerHTML='<div class="small">Cart is empty ‚Äî add some items.</div>'; el('cartTotal').textContent='‚Çπ0.00'; el('cartCount').textContent='0'; return; }
      let total=0; ids.forEach(id=>{
        const qty = state.cart[id];
        const p = products.find(x=>x.id==id);
        total += p.price*qty;
        const item = document.createElement('div'); item.className='cart-item';
        item.innerHTML = `
          <div style="width:64px"><img src="${p.img}" alt="${p.title}" style="height:48px;object-fit:cover;border-radius:6px"></div>
          <div style="flex:1">
            <div style="font-weight:600">${p.title}</div>
            <div class="small">‚Çπ${p.price.toFixed(2)}</div>
          </div>
          <div class="qty">
            <button data-id="${p.id}" class="dec">-</button>
            <div>${qty}</div>
            <button data-id="${p.id}" class="inc">+</button>
          </div>
        `;
        list.appendChild(item);
      });
      el('cartTotal').textContent = `‚Çπ${total.toFixed(2)}`;
      el('cartCount').textContent = ids.reduce((s,k)=>s+state.cart[k],0);

      // attach events
      list.querySelectorAll('.inc').forEach(b=>b.onclick=e=>{
        const id = e.target.dataset.id; state.cart[id] = (state.cart[id]||0)+1; saveCart();
      });
      list.querySelectorAll('.dec').forEach(b=>b.onclick=e=>{
        const id = e.target.dataset.id; state.cart[id] = (state.cart[id]||0)-1; if(state.cart[id]<=0) delete state.cart[id]; saveCart();
      });
    }

    // ------------------ Actions ------------------
    function addToCart(id,qty=1){
      state.cart[id] = (state.cart[id]||0) + qty; saveCart();
      toast('Added to cart');
    }

    function openModal(product){
      el('modalTitle').textContent = product.title;
      el('modalCategory').textContent = product.category;
      el('modalDesc').textContent = product.desc;
      el('modalPrice').textContent = `‚Çπ${product.price.toFixed(2)}`;
      el('modalImage').innerHTML = `<img src="${product.img}" alt="${product.title}">`;
      el('modal').classList.add('show');
      el('modalAdd').dataset.id = product.id;
    }

    function closeModal(){ el('modal').classList.remove('show'); }

    // small toast
    function toast(msg){
      const t = document.createElement('div');
      t.textContent = msg; t.style.cssText = 'position:fixed;right:18px;bottom:18px;background:#111;color:#fff;padding:10px 14px;border-radius:8px;opacity:0.95;z-index:9999';
      document.body.appendChild(t);
      setTimeout(()=>t.remove(),1400);
    }

    // ------------------ Event delegation ------------------
    document.addEventListener('click', e=>{
      const target = e.target;
      const action = target.dataset.action;
      if(action==='add') addToCart(target.dataset.id);
      if(action==='view'){
        const p = products.find(x=>x.id==target.dataset.id); if(p) openModal(p);
      }
    });

    el('search').addEventListener('input', e=>{ state.filter.q = e.target.value; renderProducts(); });
    el('category').addEventListener('change', e=>{ state.filter.category = e.target.value; renderProducts(); });
    el('openCart').addEventListener('click', ()=>{ window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'}); toast('Cart opened below'); });
    el('closeModal').addEventListener('click', closeModal);
    el('modal').addEventListener('click', e=>{ if(e.target===el('modal')) closeModal(); });
    el('modalAdd').addEventListener('click', e=>{ addToCart(e.target.dataset.id); closeModal(); });
    el('checkout').addEventListener('click', ()=>{
      if(Object.keys(state.cart).length===0){ toast('Your cart is empty'); return; }
      // simple simulated checkout
      alert('Thanks for shopping!\n(This is a demo ‚Äî no payment integration)');
      state.cart = {}; saveCart();
    });

    // initial render
    renderCategories(); renderProducts(); updateCartUI();

    // expose for debugging (optional)
    window._shop = {products, state, addToCart};
  </script>
</body>
</html>
